/*select
radnik.ime,
radnik.prezime
from
radnik
order by
pr

create proc ImePrezime
as
begin
select
radnik.ime,
radnik.prezime
from radnik
order by prezime
end
EXecute ImePrezime
		*/	
create proc radnikkvalifikacijaa 
(
@minKoeficijent as float,
@maxKoeficijent as float
)
as
begin
select
ime,
prezime,
sektor.naziv,
kvalifikacija.naziv,
kvalifikacija.koeficijent

from
sektor inner join radnik on sektor.sektor_id=radnik.sektor_id inner join kvalifikacija on radnik.kvalifikacija_id=kvalifikacija.kvalifikacija_id
where
kvalifikacija.koeficijent>=@minKoeficijent
and
kvalifikacija.koeficijent<=@maxKoeficijent
order by kvalifikacija.koeficijent
end

execute radnikkvalifikacijaa 2 , 9




create proc radnikkoeficijentprezimee
(@minkoeficijnet as float = NULL,
@maxkoeficijent as float = NULL,
@prezime as nvarchar(50))
as begin
select
radnik.ime,
radnik.prezime,
sektor.naziv as naziv_sektora,
kvalifikacija.koeficijent
from
sektor inner join radnik on sektor.sektor_id=radnik.sektor_id inner join kvalifikacija on kvalifikacija.kvalifikacija_id=radnik.kvalifikacija_id
where
(@minkoeficijnet is null or koeficijent>=@minkoeficijnet) and
(@maxkoeficijent is null or koeficijent<=@maxkoeficijent) and
(@prezime is null or radnik.prezime like '%' + @prezime + '%')
order by radnik.prezime
end

execute radnikkoeficijentprezimee 3,null,null
